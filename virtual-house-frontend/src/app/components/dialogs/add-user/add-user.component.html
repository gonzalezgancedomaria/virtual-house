<div class="container">
    <h2 mat-dialog-title>Editar usuario</h2>
    <form class="container__center" [formGroup]="form">
        <mat-form-field>
          <input matInput placeholder="Nombre" formControlName="name" name="name">
          @if(form.get('name').invalid && (form.get('name').dirty || form.get('name').touched)){
            <mat-error>El nombre es requerido</mat-error>
          }
        </mat-form-field>
      
        <mat-form-field>
          <input matInput placeholder="Apellidos" formControlName="surname" name="surname">
          @if(form.get('surname').invalid && (form.get('surname').dirty || form.get('surname').touched)){
            <mat-error>El apellido es requerido</mat-error>
          }
        </mat-form-field>
    
        <mat-form-field>
          <mat-label>Roles</mat-label>
          <mat-select formControlName="role_id">
            <mat-option value="admin">Admin</mat-option>
            <mat-option value="user">User</mat-option>
          </mat-select>
          @if(form.get('role_id').invalid && (form.get('role_id').dirty || form.get('role_id').touched)){
            <mat-error>El rol es requerido</mat-error>
          }
        </mat-form-field>
      
        <mat-form-field>
          <input matInput placeholder="Teléfono" formControlName="phone" name="phone">
        </mat-form-field>
      
        <mat-form-field>
          <input matInput placeholder="Correo electrónico" type="email" formControlName="email" name="email">
          @if(form.get('email').invalid && (form.get('email').dirty || form.get('email').touched)){
            <mat-error>Correo electrónico es inválido</mat-error>
          }
        </mat-form-field>
      
        <mat-form-field>
          <input matInput placeholder="Contraseña" type="password" formControlName="password" name="password">
          @if(form.get('password').invalid && (form.get('password').dirty || form.get('password').touched)){
            <mat-error>Contraseña es inválida.</mat-error>
          }
        </mat-form-field>
    </form>

    <div mat-dialog-actions align="end" class="container__actions">
        <button mat-flat-button color="primary" [disabled]="this.form.invalid" (click)="save()">Guardar</button>
        <button mat-flat-button color="accent" [mat-dialog-close]="true">Close</button>
    </div>
</div>